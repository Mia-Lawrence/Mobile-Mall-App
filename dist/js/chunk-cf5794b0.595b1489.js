(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf5794b0"],{1148:function(t,e,i){"use strict";var c=i("a691"),s=i("1d80");t.exports="".repeat||function(t){var e=String(s(this)),i="",r=c(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},"13d5":function(t,e,i){"use strict";var c=i("23e7"),s=i("d58f").left,r=i("a640"),n=i("ae40"),a=r("reduce"),o=n("reduce",{1:0});c({target:"Array",proto:!0,forced:!a||!o},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(t,e,i){var c=i("da84"),s=i("fdbc"),r=i("17c2"),n=i("9112");for(var a in s){var o=c[a],l=o&&o.prototype;if(l&&l.forEach!==r)try{n(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,i){"use strict";var c=i("b727").forEach,s=i("a640"),r=i("ae40"),n=s("forEach"),a=r("forEach");t.exports=n&&a?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,i){"use strict";var c=i("6eeb"),s=i("825a"),r=i("d039"),n=i("ad6d"),a="toString",o=RegExp.prototype,l=o[a],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=a;(u||f)&&c(RegExp.prototype,a,(function(){var t=s(this),e=String(t.source),i=t.flags,c=String(void 0===i&&t instanceof RegExp&&!("flags"in o)?n.call(t):i);return"/"+e+"/"+c}),{unsafe:!0})},"408a":function(t,e,i){var c=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=c(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,i){"use strict";var c=i("23e7"),s=i("17c2");c({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"6dbb":function(t,e,i){},"723d":function(t,e,i){"use strict";var c=i("8058"),s=i.n(c);s.a},"7f0f":function(t,e,i){},8058:function(t,e,i){},9522:function(t,e,i){"use strict";i.r(e);var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cart"}},[i("cart-topbar"),t.isCartListEmpty?i("div",{staticClass:"cart-text"},[t._v(t._s(t.CartListEmptyText))]):t._e(),i("cart-product",{on:{showDelBtn:t.showDelBtn}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDeleteHtml,expression:"isDeleteHtml"}],staticClass:"delete-btn-cover",on:{click:t.canLongPressItem}},[i("div",{staticClass:"confirm-delete-btn"},[i("div",{staticClass:"confirm-text"},[t._v("确认要删除吗？")]),i("div",{staticClass:"confrim-btn"},[i("div",{staticClass:"cancel-btn",on:{click:t.canLongPressItem}},[t._v("取消")]),i("div",{staticClass:"delete-btn",on:{click:t.delLongPressItem}},[t._v("删除")])])])])])],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-topbar"},[i("topbar",[i("div",{staticClass:"cart-left-text",attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.topbarLeftText))]),i("div",{attrs:{slot:"center"},slot:"center"}),i("div",{staticClass:"cart-right-text",attrs:{slot:"right"},on:{click:t.manageCartBtn},slot:"right"},[t._v(t._s(t.topbarRightText))])])],1)},n=[],a=i("99ec"),o={name:"cartTopbar",data:function(){return{topbarLeftText:"购物车",topbarRightText:"管理"}},components:{topbar:a["a"]},methods:{manageCartBtn:function(){this.$bus.$emit("manageCart")}}},l=o,u=(i("e3d5"),i("2877")),f=Object(u["a"])(l,r,n,!1,null,"6594a9a5",null),d=f.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-product"},[i("cart-scroll",{ref:"cartScroll",staticClass:"cart-scroll"},t._l(t.cartList,(function(e){return i("div",{key:e.index,staticClass:"product-item"},[i("div",{staticClass:"select-btn"},[i("i",{staticClass:"iconfont",class:{"icon-slect":e.isClick,"icon-unslected":!e.isClick},on:{click:function(i){return t.selectProduct(e.id)}}})]),i("div",{staticClass:"cart-product-content",on:{touchstart:function(i){return t.gotouchstart(e.id)},touchmove:t.gotouchmove,touchend:t.gotouchend}},[i("div",{staticClass:"product-shop"},[t._v(t._s(e.seller))]),i("div",{staticClass:"link-to-detail",on:{click:function(i){return t.toDetail(e.id)}}},[i("div",{staticClass:"product-info"},[i("img",{staticClass:"product-img",attrs:{src:e.image},on:{load:t.scrollRefresh}}),i("div",{staticClass:"product-detail"},[i("p",{staticClass:"product-name multiline-ellipsis"},[t._v(t._s(e.title))]),i("p",{staticClass:"delivery-fee"},[t._v(t._s(e.fee))])])])]),i("div",{staticClass:"product-price-info"},[i("p",{staticClass:"product-price"},[t._v("￥"+t._s(e.price))]),i("div",{staticClass:"product-number"},[i("div",{staticClass:"number-container"},[i("span",{staticClass:"number-subtract",on:{click:function(i){return t.subtractCount(e.id,e)}}},[t._v("-")]),i("span",{staticClass:"number-count"},[t._v(t._s(e.count))]),i("span",{staticClass:"number-add",on:{click:function(i){return t.addCount(e.id)}}},[t._v("+")])])])])])])})),0),i("transition",{attrs:{name:"zero-info"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isCountZero,expression:"isCountZero"}],staticClass:"product-zero-info"},[i("div",{staticClass:"zero-info-text",domProps:{innerHTML:t._s(t.zeroInfoText)}})])]),i("cart-calculate",{ref:"cartCalculateBar"})],1)},C=[],v=(i("7db0"),i("9fb0")),m=i("d778"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"calculate-bar"},[i("div",{staticClass:"select-all",on:{click:function(e){return t.selectAllProduct(t.cartList)}}},[i("i",{staticClass:"iconfont",class:{"icon-slect":t.isAllClick,"icon-unslected":!t.isAllClick}}),i("span",{staticClass:"select-all-text"},[t._v("全选")])]),t.manageBtn?i("div",{staticClass:"calculate-all"},[i("span",{staticClass:"total-price"},[t._v("合计: ￥"+t._s(t.totalPrice))]),i("div",{staticClass:"pay-money"},[t._v("去结算("+t._s(t.totalCount)+")")])]):i("div",{staticClass:"manage-all"},[i("div",{staticClass:"delete-all",on:{click:t.deleteAllProduct}},[t._v("清空")]),i("div",{staticClass:"delete",on:{click:t.deleteSelectProduct}},[t._v("删除")])])])},g=[],b=(i("4160"),i("c975"),i("13d5"),i("b680"),i("d3b7"),i("25f0"),i("159b"),{name:"cartCalculate",data:function(){return{manageBtn:!0}},created:function(){var t=this;this.selectInit(this.cartList),this.caculatePrice(),this.$bus.$on("initSelect",(function(){t.selectInit(t.cartList)})),this.$bus.$on("manageCart",(function(){t.manageBtn=!t.manageBtn}))},mounted:function(){var t=this;this.$bus.$on("syncCalculate",(function(){t.selectInit(),t.caculatePrice(),t.caculateCount()}))},computed:{cartList:function(){return this.$store.state.cartList},isAllClick:{get:function(){return this.$store.state.isAllClick},set:function(t){this.$store.state.isAllClick=t}},falseClick:function(){return this.$store.getters.falseClick},trueClick:function(){return this.$store.getters.trueClick},totalCount:{get:function(){return this.$store.state.totalCount},set:function(t){this.$store.state.totalCount=t}},totalPrice:{get:function(){return this.$store.state.totalPrice},set:function(t){this.$store.state.totalPrice=t}}},methods:{selectInit:function(){0!==this.falseClick.length||0===this.cartList.length?this.isAllClick=!1:this.isAllClick=!0},selectProduct:function(t){var e=this.cartList.find((function(e){return e.id===t}));e.isClick=!e.isClick,this.selectInit(this.cartList),this.caculatePrice(),this.caculateCount()},selectAllProduct:function(t){var e=this;this.selectInit(t),this.falseClick.length===t.length||this.trueClick.length===t.length?t.forEach((function(t){t.isClick=!t.isClick,t.isClick?e.isAllClick=!0:e.isAllClick=!1})):t.forEach((function(t){!1===t.isClick&&(t.isClick=!0,e.isAllClick=!0)})),this.caculatePrice(),this.caculateCount()},caculatePrice:function(){var t=[];if(0!==this.trueClick.length){this.trueClick.forEach((function(e){var i=e.count*e.price;t.push(parseFloat(i))}));var e=t.reduce((function(t,e){return t+e}));e.toString().indexOf(".")>=0?this.totalPrice=e.toFixed(1):this.totalPrice=e}else this.totalPrice=0},caculateCount:function(){var t=[];if(this.trueClick.forEach((function(e){var i=e.count;t.push(parseFloat(i))})),0!==t.length){var e=t.reduce((function(t,e){return t+e}));this.totalCount=e}else this.totalCount=0},deleteAllProduct:function(){this.$store.commit("deleteAllProduct"),this.selectInit(this.cartList),this.caculatePrice(),this.caculateCount()},deleteSelectProduct:function(){this.$store.commit("deleteSelectProduct"),this.selectInit(this.cartList),this.caculatePrice(),this.caculateCount()}}}),L=b,k=(i("f186"),Object(u["a"])(L,p,g,!1,null,"41b3cf43",null)),P=k.exports,$={name:"cartProduct",data:function(){return{isCountZero:!1,zeroInfoText:"数量至少为1哦~<br/>长按/点击管理删除商品",timeOutEvent:""}},components:{cartScroll:v["a"],cartCalculate:P},activated:function(){this.$refs.cartScroll.scrollRefresh()},computed:{cartList:function(){return this.$store.state.cartList},falseClick:function(){return this.$store.getters.falseClick},trueClick:function(){return this.$store.getters.trueClick},refresh:function(){return Object(m["a"])(this.$refs.cartScroll.scrollRefresh,200)}},methods:{scrollRefresh:function(){this.refresh()},subtractCount:function(t,e){var i=this,c=this.$store.state.cartList.find((function(e){return e.id===t}));if(!(c.count>1))return c.count=1,this.isCountZero=!0,void setTimeout((function(){i.isCountZero=!1}),2e3);c.count--,this.$refs.cartCalculateBar.caculatePrice(),this.$refs.cartCalculateBar.caculateCount()},addCount:function(t){var e=this.$store.state.cartList.find((function(e){return e.id===t}));e.count++,this.$refs.cartCalculateBar.caculatePrice(),this.$refs.cartCalculateBar.caculateCount()},selectProduct:function(t){this.$refs.cartCalculateBar.selectProduct(t)},toDetail:function(t){null!==this.timeOutEvent&&this.$router.push({name:"cart-detail",params:{id:t}})},gotouchstart:function(t){var e=this;clearTimeout(this.timeOutEvent),this.timeOutEvent=setTimeout((function(){e.timeOutEvent=null,e.$emit("showDelBtn",t)}),300)},gotouchend:function(t){clearTimeout(this.timeOutEvent)},gotouchmove:function(){clearTimeout(this.timeOutEvent)}}},x=$,_=(i("723d"),Object(u["a"])(x,h,C,!1,null,"4c878e38",null)),E=_.exports,S={name:"cart",data:function(){return{CartListEmptyText:"在详情页可以添加商品到购物车哦~",isDeleteHtml:!1,delProductId:0}},computed:{isCartListEmpty:function(){return this.$store.state.isCartListEmpty}},components:{cartTopbar:d,cartProduct:E},methods:{showDelBtn:function(t){this.isDeleteHtml=!0,this.delProductId=t},delLongPressItem:function(){this.isDeleteHtml=!1,this.$store.commit("longPressDel",this.delProductId),this.$bus.$emit("syncCalculate",this.delProductId)},canLongPressItem:function(){this.isDeleteHtml=!1}}},T=S,w=(i("a094"),Object(u["a"])(T,c,s,!1,null,"757dfe2c",null));e["default"]=w.exports},a094:function(t,e,i){"use strict";var c=i("6dbb"),s=i.n(c);s.a},b579:function(t,e,i){},b680:function(t,e,i){"use strict";var c=i("23e7"),s=i("a691"),r=i("408a"),n=i("1148"),a=i("d039"),o=1..toFixed,l=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},f=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},d=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){o.call({})}));c({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,i,c,a,o=r(this),d=s(t),h=[0,0,0,0,0,0],C="",v="0",m=function(t,e){var i=-1,c=e;while(++i<6)c+=t*h[i],h[i]=c%1e7,c=l(c/1e7)},p=function(t){var e=6,i=0;while(--e>=0)i+=h[e],h[e]=l(i/t),i=i%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+n.call("0",7-i.length)+i}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(C="-",o=-o),o>1e-21)if(e=f(o*u(2,69,1))-69,i=e<0?o*u(2,-e,1):o/u(2,e,1),i*=4503599627370496,e=52-e,e>0){m(0,i),c=d;while(c>=7)m(1e7,0),c-=7;m(u(10,c,1),0),c=e-1;while(c>=23)p(1<<23),c-=23;p(1<<c),m(1,1),p(2),v=g()}else m(0,i),m(1<<-e,0),v=g()+n.call("0",d);return d>0?(a=v.length,v=C+(a<=d?"0."+n.call("0",d-a)+v:v.slice(0,a-d)+"."+v.slice(a-d))):v=C+v,v}})},d58f:function(t,e,i){var c=i("1c0b"),s=i("7b0b"),r=i("44ad"),n=i("50c4"),a=function(t){return function(e,i,a,o){c(i);var l=s(e),u=r(l),f=n(l.length),d=t?f-1:0,h=t?-1:1;if(a<2)while(1){if(d in u){o=u[d],d+=h;break}if(d+=h,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=h)d in u&&(o=i(o,u[d],d,l));return o}};t.exports={left:a(!1),right:a(!0)}},d778:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var c=function(t,e){var i=null;return function(){for(var c=this,s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];i&&clearTimeout(i),i=setTimeout((function(){t.apply(c,r)}),e)}}},e3d5:function(t,e,i){"use strict";var c=i("b579"),s=i.n(c);s.a},f186:function(t,e,i){"use strict";var c=i("7f0f"),s=i.n(c);s.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-cf5794b0.595b1489.js.map