(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53835ed7"],{"28de":function(t,e,a){"use strict";var n=a("a0b4"),i=a.n(n);i.a},"52bd":function(t,e,a){},"547c":function(t,e,a){"use strict";var n=a("52bd"),i=a.n(n);i.a},"86d9":function(t,e,a){"use strict";var n=a("8cb9"),i=a.n(n);i.a},"8cb9":function(t,e,a){},a0b4:function(t,e,a){},f4ba:function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"category"}},[a("category-topbar"),a("div",{staticClass:"category-contaner"},[a("div",{staticClass:"category-tab-container"},[a("category-tab")],1),a("div",{staticClass:"category-content-container"},[a("category-content")],1)])],1)},c=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("topbar",{attrs:{title:t.title,backColor:t.backColor,color:t.color}})},r=[],s=a("99ec"),l={name:"categoryTopbar",data:function(){return{title:"分类",color:"#fff",backColor:"rgb(222, 24, 27)"}},components:{topbar:s["a"]}},d=l,u=a("2877"),m=Object(u["a"])(d,o,r,!1,null,"e3c62110",null),f=m.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-tab"},[a("category-scroll",{staticClass:"category-scroll"},t._l(t.tabItems,(function(e,n){return a("div",{key:e.index,staticClass:"tab-item",class:{"tab-item-active":t.isActive===n},on:{click:function(a){return t.switchTab(n,e.id)}}},[a("p",{staticClass:"tab-name"},[t._v(t._s(e.name))])])})),0)],1)},b=[],h=a("9fb0"),v="category",p="key",y="".concat(v,"-content-").concat(p),C=36e5,W=[{name:"热门推荐",id:"WQR2006"},{name:"精选超市",id:"WQ1968"},{name:"国际名牌",id:"WQ1969"},{name:"奢侈品",id:"WQ1970"},{name:"全球购",id:"WQ1971"},{name:"男装",id:"WQ1972"},{name:"女装",id:"WQ1973"},{name:"男鞋",id:"WQ1974"},{name:"女鞋",id:"WQ1975"},{name:"箱包手袋",id:"WQ1977"},{name:"钟表珠宝",id:"WQ1979"},{name:"手机数码",id:"WQ1980"},{name:"电脑办公",id:"WQ1981"},{name:"家用电器",id:"WQ1982"},{name:"食品生鲜",id:"WQ1983"},{name:"酒水饮料",id:"WQ1984"},{name:"母婴童鞋",id:"WQ1985"},{name:"玩具乐器",id:"WQ1986"},{name:"医药保健",id:"WQ1987"},{name:"计生情趣",id:"WQ1988"},{name:"运动户外",id:"WQ1989"},{name:"家居厨具",id:"WQ1991"},{name:"礼品鲜花",id:"WQ1993"},{name:"宠物生活",id:"WQ1994"},{name:"生活旅行",id:"WQ1995"},{name:"邮币",id:"WQ1997"},{name:"农资绿植",id:"WQ1998"},{name:"金融",id:"WQ2000"},{name:"拍卖",id:"WQ2001"},{name:"房产",id:"WQ2008"},{name:"二手商品",id:"WQ2002"}],Q={name:"categoryTab",data:function(){return{tabItems:[],isActive:0,activeTab:""}},components:{categoryScroll:h["a"]},created:function(){this.getTabItems(),this.switchTab(0,this.tabItems[0].id)},mounted:function(){this.switchTab(0,this.tabItems[0].id)},methods:{getTabItems:function(){this.tabItems=W},switchTab:function(t,e){this.isActive=t,this.$bus.$emit("switch-tab",e)}}},w=Q,T=(a("86d9"),Object(u["a"])(w,g,b,!1,null,"d7aa6242",null)),k=T.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-left-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"category-loading"},[a("category-loading",{staticClass:"loading",attrs:{imgWidth:t.imgWidth,imgHeight:t.imgHeight}})],1),a("keep-alive",[a("div",{staticClass:"category-content"},[a("category-scroll",{ref:"scroll",staticClass:"category-scroll"},[a("div",{staticClass:"category-banner"},[a("a",{staticClass:"banner-link",attrs:{href:t.bannerList.linkUrl}},[a("img",{staticClass:"banner-image",attrs:{src:t.bannerList.picUrl}})])]),a("div",{staticClass:"category-part"},t._l(t.titleList,(function(e){return a("div",{key:e.id,staticClass:"part-item-container"},[a("p",{staticClass:"part-item-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"part-item"},t._l(e.itemList,(function(e){return a("div",{key:e.id,staticClass:"part-item-content"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"content.picUrl"}],staticClass:"part-item-img",on:{load:t.scrollRefresh}}),a("p",{staticClass:"part-item-text text-ellipsis"},[t._v(t._s(e.name))])])})),0)])})),0)])],1)])],1)},_=[],I=(a("d3b7"),a("ea39")),S=a("f350"),$=0,x=function(t){return n&&n("取消了前一次的请求！"),n=null,Object(S["c"])(t,{cancelToken:new S["a"]((function(t){n=t}))}).then((function(t){if(t.data.code===$)return t.data.content;throw new Error("没有成功获取到数据！")})).catch((function(t){Object(S["b"])(t),console.log(t)}))},O=window.localStorage,j={set:function(t,e){void 0!==e&&O.setItem(t,H(e))},get:function(t,e){var a=B(O.getItem(t));return void 0===a?e:a},remove:function(t){O.removeItem(t)},clear:function(){O.clear()}};function H(t){return JSON.stringify(t)}function B(t){if("string"===typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}var E={name:"categoryContent",data:function(){return{bannerList:{},titleList:[],contentList:[],loaded:!1,imgWidth:"1rem",imgHeight:".5rem"}},components:{categoryScroll:h["a"],categoryLoading:I["a"]},created:function(){this.getTabId()},methods:{getTabId:function(){var t=this;this.$bus.$on("switch-tab",(function(e){t.loaded=!0,t.getContent(e).then((function(){t.loaded=!1,t.backTop(0)}))}))},getContent:function(t){var e,a=this,n=j.get(y),i=(new Date).getTime();return n&&n[t]?(e=n[t].updateTime||0,i-e<=C?this.getContentByLocalStorage(n[t]):this.getContentByHttp(t).then((function(e){a.updateLocalStorage(n,e,t,i)}))):this.getContentByHttp(t).then((function(e){a.updateLocalStorage(n,e,t,i)}))},getContentByHttp:function(t){var e=this;return x(t).then((function(t){return new Promise((function(a){t&&(e.bannerList=t.banner,e.titleList=t.data,a(t))}))}))},getContentByLocalStorage:function(t){return this.bannerList=t.data.banner,this.titleList=t.data.data,Promise.resolve()},updateLocalStorage:function(t,e,a,n){t=t||{},t[a]={data:e,updateTime:n},j.set(y,t)},scrollRefresh:function(){this.$refs.scroll.scrollRefresh()},backTop:function(t){this.$refs.scroll.scrollTo(0,t)}}},J=E,N=(a("28de"),Object(u["a"])(J,L,_,!1,null,"c6bf4a18",null)),R=N.exports,U={name:"category",data:function(){return{}},components:{categoryTopbar:f,categoryTab:k,categoryContent:R}},A=U,z=(a("547c"),Object(u["a"])(A,i,c,!1,null,"757aa2f2",null));e["default"]=z.exports}}]);
//# sourceMappingURL=chunk-53835ed7.81370877.js.map